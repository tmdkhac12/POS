<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Admin Quản Lý Sản Phẩm</title>
  </head>
  <body>
    <header>
      <nav>
        <ul class="menu-bar">
          <li><a href="quan-ly-nhan-vien">Quản Lý Nhân Viên</a></li>
          <li><a href="doanh-thu">Hóa Đơn</a></li>
          <li><a href="danh-gia-khach-hang">Đánh Giá Của Khách Hàng</a></li>
          <li><a href="sanpham">Quản Lý Sản Phẩm</a></li>
        </ul>
      </nav>
    </header>
    <section id="quan-ly-san-pham">
      <h2>Quản Lý Sản Phẩm</h2>
      <div class="search-bar">
        <input
          type="text"
          id="search-input"
          placeholder="Tìm kiếm theo tên món ăn hoặc mã món ăn..."
        />
        <button id="search-button">Tìm kiếm</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>MÃ MÓN ĂN</th>
            <th>TÊN MÓN ĂN</th>
            <th>ĐƠN VỊ TÍNH</th>
            <th>ĐƠN GIÁ</th>
            <th>MÔ TẢ</th>
            <th>DANH MỤC</th>
          </tr>
        </thead>
        <tbody id="product-list">
          <!-- Dữ liệu đổ vào từ sản phẩm -->
          <% products.forEach((product, index) => { %>
          <tr>
            <td><%= product.MaMonAn %></td>
            <td><%= product.TenMonAn %></td>
            <td><%= product.DonViTinh %></td>
            <td><%= product.DonGia %></td>
            <td><%= product.Mota %></td>
            <td><%= product.DanhMuc %></td>
            <td>
              <button class="btn-delete" data-id="<%= product.MaMonAn %>">
                Xóa
              </button>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>

      <!-- Phân trang -->
      <div id="pagination" class="pagination">
        <% if (currentPage > 1) { %>
        <a href="/admin/sanpham?page=<%= currentPage - 1 %>">Previous</a>
        <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
        <a
          href="/admin/sanpham?page=<%= i %>"
          class="<%= i === currentPage ? 'active' : '' %>"
        >
          <%= i %>
        </a>
        <% } %> <% if (currentPage < totalPages) { %>
        <a href="/admin/sanpham?page=<%= currentPage + 1 %>">Next</a>
        <% } %>
      </div>

      <div class="btn-group">
        <div id="overlay"></div>
        <button class="btn btn-primary" id="btn-add-product">Thêm</button>
        <div id="add-product-form">
          <h3>Thêm Món Ăn</h3>
          <form id="product-form" enctype="multipart/form-data">
            <label for="TenMonAn">Tên Món Ăn:</label>
            <input type="text" id="TenMonAn" name="TenMonAn" required />

            <label for="DonViTinh">Đơn Vị Tính:</label>
            <input type="text" id="DonViTinh" name="DonViTinh" required />

            <label for="DonGia">Đơn Giá:</label>
            <input type="number" id="DonGia" name="DonGia" required />

            <label for="Mota">Mô Tả:</label>
            <input type="text" id="Mota" name="Mota" required />

            <label for="DanhMuc">Danh Mục:</label>
            <input type="text" id="DanhMuc" name="DanhMuc" required />

            <label for="image">Hình Ảnh:</label>
            <input
              type="file"
              id="image"
              name="image"
              accept="image/*"
              required
            />

            <button type="submit">Lưu</button>
            <button type="button" id="cancel-add-product">Hủy</button>
          </form>
        </div>
        <!-- Form sửa sản phẩm -->
        <!-- Form sửa sản phẩm -->
      </div>
    </section>
  </body>
  <script src="main.js"></script>
</html>
